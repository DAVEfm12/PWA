<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Snack & Drink DAVE's - Reservaciones</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="icon" href="SD_logo.png" type="image/png">
  <link rel="apple-touch-icon" href="SD_logo.png">
  <meta name="theme-color" content="#FB314E">
  <link rel="manifest" href="manifest.json">

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>

  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

  <style>

    *{margin:0;padding:0;box-sizing:border-box;font-family:'Poppins',sans-serif;}

    body{
      background:linear-gradient(135deg,#FB314E,#FF9A8B);
      min-height:100vh;display:flex;flex-direction:column;
    }

    /* -------- HEADER -------- */
    header{
      background:#fff;
      box-shadow:0 4px 12px rgba(0,0,0,0.15);
      display:flex;justify-content:center;align-items:center;
      padding:15px 30px;position:sticky;top:0;z-index:1000;
    }

    .logo-header{
      display:flex;align-items:center;gap:12px;
      transition:0.3s;
    }

    .logo-header:hover{transform:scale(1.05);}
    .logo-header span{color:#FB314E;font-weight:700;font-size:1.4em;}

    /* -------- CONTENEDOR -------- */
    .reservaciones{
      max-width:850px;margin:45px auto;padding:45px;
      background:#fff;border-radius:20px;
      box-shadow:0 18px 45px rgba(0,0,0,0.20);
      animation:fadeInUp 0.7s ease both;
    }

    @keyframes fadeInUp{
      from{opacity:0;transform:translateY(40px);}
      to{opacity:1;transform:translateY(0);}
    }

    h2{
      text-align:center;
      color:#FB314E;
      font-size:2.3em;
      margin-bottom:25px;
      font-weight:700;
    }

    .divider{
      height:3px;width:80px;
      background:#FB314E;
      margin:0 auto 30px auto;
      border-radius:10px;
    }

    /* -------- FORM -------- */
    .form-group{
      margin-bottom:22px;transition:0.3s;
    }

    .form-group:hover{transform:scale(1.02);}

    .form-group label{
      font-weight:600;margin-bottom:8px;display:block;
    }

    .form-group input,
    .form-group select{
      width:100%;padding:14px;border:2px solid #f1f1f1;
      border-radius:10px;font-size:16px;background:#fafafa;
      transition:0.25s;
    }

    .form-group input:focus,
    .form-group select:focus{
      border-color:#FB314E;
      box-shadow:0 0 10px rgba(251,49,78,0.35);
      background:#fff;
    }

    /* -------- BOTONES -------- */
    .btn-reservar,
    .btn-regresar{
      width:100%;padding:16px;border:none;border-radius:10px;
      font-weight:600;font-size:18px;cursor:pointer;
      transition:0.25s;
      margin-top:15px;
      box-shadow:0 6px 14px rgba(0,0,0,0.18);
    }

    .btn-reservar{
      background:linear-gradient(90deg,#25D366,#128C7E);
      color:white;
    }

    .btn-regresar{
      background:linear-gradient(90deg,#FF4F5A,#FF2E3A);
      color:white;
    }

    .btn-reservar:hover,
    .btn-regresar:hover{
      transform:translateY(-3px) scale(1.03);
      box-shadow:0 12px 20px rgba(0,0,0,0.25);
    }

    /* -------- BOTÃ“N FLOTANTE EN MÃ“VIL -------- */
    @media(max-width:600px){
      .btn-regresar{
        position:fixed;bottom:20px;left:20px;
        width:auto;padding:12px 20px;font-size:16px;
        z-index:2000;
      }
    }

    /* -------- FOOTER -------- */
    footer{
      padding:20px;background:#fff;color:#555;
      margin-top:auto;text-align:center;
      box-shadow:0 -5px 12px rgba(0,0,0,0.1);
    }

    .btn-notify{
  width:100%;
  padding:16px;
  border:none;
  border-radius:10px;
  font-weight:600;
  font-size:18px;
  cursor:pointer;
  transition:0.25s;
  margin-top:15px;
  background:linear-gradient(90deg,#FFD700,#FFB300);
  color:#000;
  box-shadow:0 6px 14px rgba(0,0,0,0.18);
}

.btn-notify:hover{
  transform:translateY(-3px) scale(1.03);
  box-shadow:0 12px 20px rgba(0,0,0,0.25);
}

  </style>
</head>

<body>

<header>
  <div class="logo-header">
    <img src="SD_logo.png" style="height:55px;">
    <span>Snack & Drink DAVE's</span>
  </div>
</header>

<section class="reservaciones">

  <h2>Haz tu ReservaciÃ³n</h2>
  <div class="divider"></div>

  <form id="formReservacion">

    <div class="form-group">
      <label>Nombre del Cliente:</label>
      <input type="text" id="nombre" required>
    </div>

    <div class="form-group">
      <label>Tipo de PÃºblico:</label>
      <select id="publico" required>
        <option value="">Selecciona</option>
        <option>Infantil</option>
        <option>Juvenil</option>
        <option>Adultos</option>
      </select>
    </div>

    <div class="form-group">
      <label>Tipo de Fiesta:</label>
      <select id="fiesta" required>
        <option value="">Selecciona</option>
        <option>CumpleaÃ±os</option>
        <option>Bautizo</option>
        <option>GraduaciÃ³n</option>
        <option>ReuniÃ³n</option>
        <option>Otro</option>
      </select>
    </div>

    <div class="form-group">
      <label>Tipo de Bebida:</label>
      <select id="bebida" required>
        <option value="">Selecciona</option>
        <optgroup label="Para NiÃ±os">
          <option>Jugos Naturales</option>
          <option>Refrescos</option>
          <option>Malteadas</option>
        </optgroup>
        <optgroup label="Para Adultos">
          <option>Mojito Tradicional</option>
          <option>PiÃ±a Colada</option>
          <option>Azulito Original</option>
        </optgroup>
      </select>
    </div>

    <div class="form-group">
      <label>Botana / Snack:</label>
      <select id="botana" required>
        <option value="">Selecciona</option>
        <optgroup label="Para NiÃ±os">
          <option>Palomitas</option>
          <option>Mini Sandwiches</option>
          <option>Dulces</option>
        </optgroup>
        <optgroup label="Para Adultos">
          <option>Nachos</option>
          <option>Alitas</option>
          <option>Tabla de Quesos</option>
        </optgroup>
      </select>
    </div>

    <div class="form-group">
      <label>Cantidad de Personas:</label>
      <input type="number" id="personas" min="1" required>
    </div>

    <div class="form-group">
      <label>Lugar del Evento:</label>
      <input type="text" id="lugar" required>
    </div>

    <div class="form-group">
      <label>Fecha:</label>
      <input type="date" id="fecha" required>
    </div>

    <div class="form-group">
      <label>Hora:</label>
      <input type="time" id="hora" required>
    </div>

    <button type="submit" class="btn-reservar">Enviar ReservaciÃ³n por WhatsApp</button>

    <button type="button" class="btn-regresar" onclick="window.location.href='index.html'">â¬… Regresar</button>

    <button type="button" class="btn-notify" onclick="solicitarNotificacion()">ðŸ”” Activar Notificaciones</button>

  </form>

  <div id="mensaje"></div>
</section>

<footer>
  Â© 2025 Snack & Drink DAVE's
</footer>

  <script>

if ("serviceWorker" in navigator) {
  navigator.serviceWorker.register("sw.js")
    .then(reg => console.log("SW registrado âœ”ï¸"))
    .catch(err => console.log("SW error:", err));
}

// ================ ENVIAR RESERVACIÃ“N ==================
$('#formReservacion').submit(async function(e){
  e.preventDefault();

  const mensaje =
`ðŸ“‹ *Nueva ReservaciÃ³n*%0A%0A
ðŸ‘¤ *Cliente:* ${$('#nombre').val()}%0A
ðŸŽ‰ *PÃºblico:* ${$('#publico').val()}%0A
ðŸ¥³ *Fiesta:* ${$('#fiesta').val()}%0A
ðŸ¹ *Bebida:* ${$('#bebida').val()}%0A
ðŸŸ *Botana:* ${$('#botana').val()}%0A
ðŸ‘¥ *Invitados:* ${$('#personas').val()}%0A
ðŸ“ *Lugar:* ${$('#lugar').val()}%0A
ðŸ“… *Fecha:* ${$('#fecha').val()}%0A
â° *Hora:* ${$('#hora').val()}%0A%0A
âœ” Enviado desde la web`;

  const url = `https://wa.me/527443861188?text=${mensaje}`;
  window.open(url, "_blank");

  // NotificaciÃ³n interna
  if (Notification.permission === "granted") {
    navigator.serviceWorker.ready.then(reg => {
      reg.showNotification("ReservaciÃ³n enviada ðŸŽ‰", {
        body: "Tu solicitud se mandÃ³ correctamente por WhatsApp.",
        icon: "SD_logo.png",
        vibrate: [200, 100, 200],
        badge: "SD_logo.png"
      });
    });
  }
});

// ================ ACTIVAR NOTIFICACIONES ==================
function solicitarNotificacion() {
  if (!("Notification" in window)) {
    alert("Tu navegador no soporta notificaciones ðŸ˜¢");
    return;
  }

  Notification.requestPermission().then(permiso => {
    if (permiso === "granted") {
      navigator.serviceWorker.ready.then(reg => {
        reg.showNotification("Notificaciones activadas ðŸ””", {
          body: "Ahora recibirÃ¡s alertas importantes.",
          icon: "SD_logo.png",
          badge: "SD_logo.png"
        });
      });
    } else {
      alert("No activaste las notificaciones ðŸ˜•");
    }
  });
}


</script>  
</body>
</html>



